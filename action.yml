name: 'Microservices versioning'
description: 'This actions is about upping versions of each microservice automatically'
author: 'Mostefa Kamal Lala'
inputs:
  pull_number:
    required: false
    description: 'The pull request number, if not provided will take the one from context if not manually ran'
  owner:
    required: true
    description: 'Owner of pull request repo, if not provided will take the one from context'
  repo:
    required: true
    description: 'Repo name, if not provided will take the one from context'
  token:
    required: true
    description: 'Github token, if not provided will take the one from context'
  working_directory:
    required: true
    description: 'The working directory of the repo'
  service_name:
    required: false
    description: The service name to bump when running manually the workflow
  release_type:
    required: false
    description: The service release type when running manually the workflow (patch, minor, major)
  service_path:
    required: false
    description: 'The service path when running manually the workflow'
  services_path:
    required: false
    description: 'The relative path where each microservice is in repo for changing versions in files'
    default: 'services'
  custom_services_path:
    required: false
    description: 'A list of comma separated relative path by microservice that are not in the common place in the repo. '
runs:
  using: 'node12'
  main: 'dist/index.js'
